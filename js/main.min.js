function mobilecheck(){var e=!1;return function(t){(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}function parseVideo(e){return e.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),RegExp.$3.indexOf("youtu")>-1?type="youtube":RegExp.$3.indexOf("vimeo")>-1&&(type="vimeo"),{type:type,id:RegExp.$6}}function parseMedia(e){switch(e.substr(e.lastIndexOf(".")+1)){case"mp3":case"aac":case"ogg":type="audio";break;case"mp4":case"webm":type="video";break;case"jpg":case"jpeg":case"png":case"gif":type="image";break}return type}var type;!function(){var e=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,t=navigator.userAgent.toLowerCase().indexOf("opera")>-1,a=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(e||t||a)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e=location.hash.substring(1),t;/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1)}();var waitForFinalEvent=function(){var e={};return function(t,a,o){o||(o="Don't call this twice without a uniqueId"),e[o]&&clearTimeout(e[o]),e[o]=setTimeout(t,a)}}(),timeToWaitForLast=100;!function($){function e(e){var t=$(window).width();return parseInt(t)<=parseInt(e)}function t(t,a){e(L.screen_md)&&(!0===t?a.addClass("stop-scrolling"):a.removeClass("stop-scrolling"))}function a(){if(N=document.querySelectorAll("img[data-lazy-src]"),E=N.length,F&&F.disconnect(),"IntersectionObserver"in window)for(F=new IntersectionObserver(n,V),T=0;T<N.length;T++)R=N[T],R.getAttribute("data-lazy-loaded")||F.observe(R);else o(N)}function o(e){var t;for(t=0;t<e.length;t++){i(e[t])}}function n(e){var t;for(0===E&&F.disconnect(),t=0;t<e.length;t++){var a=e[t];a.intersectionRatio>0&&(E--,F.unobserve(a.target),i(a.target))}}function i(e){var t=$(e);t.each(function(){var a=e.getAttribute("data-lazy-src"),o=e.getAttribute("data-lazy-srcset"),n=e.getAttribute("data-lazy-sizes");a&&(t.is("[data-lazy-loaded]")||(e.classList&&e.classList.add("lazy-loaded"),e.setAttribute("data-lazy-loaded","1"),e.setAttribute("src",a),e.removeAttribute("data-lazy-src"),o&&(e.setAttribute("srcset",o),e.removeAttribute("data-lazy-srcset")),n&&(e.setAttribute("sizes",n),e.removeAttribute("data-lazy-sizes"))))})}function s(){var e=$("#page"),t=$("html, body"),a,o={prefetch:!0,prefetchOn:"mouseover touchstart",cacheLength:2,blacklist:".post-edit-link",onStart:{duration:1e3,render:function(){e.addClass("is-exiting"),t.animate({scrollTop:0})}},onReady:{duration:0,render:function(e,t){e.html(t),e.removeClass("is-exiting")}},onAfter:function(){q.removeClass("stop-scrolling"),$("#overlay").remove(),M=1,j()}};a=e.smoothState(o).data("smoothState")}function r(e){$(e).find("iframe").attr("data-autoplay","")}function c(e){if(mobilecheck()){var t=$(e).find("iframe"),a=t.is(["data-lazy-src"])?t.data("lazy-src"):t.attr("src");t.each(function(){var e=$(this).attr("src");parseVideo(a),"vimeo"===type&&$(this).attr("src",e.replace("background=1","background=0"))})}}function l(e,t){var a=e[0].value,o=t[0].value,n=t.next(".invalid-feedback");a!==o?n.text(n.data("text-original")):(n.data("text-original",n.text()),n.text(n.data("text-swap")))}function d(e){var t=e[0];t.addEventListener("submit",function(a){!1===t.checkValidity()&&(a.preventDefault(),a.stopPropagation()),e.addClass("was-validated"),l($("#field-ot-mail"),$("#field-ot-mail-confirm"))},!1)}function p(e){$(".popover").length&&$(e).find(".media-sample").popover("hide")}function u(e,t){var a=e.find("video, audio"),o=e.find("iframe"),n=$(o).is(["data-lazy-src"])?o.data("lazy-src"):o.attr("src");$(a).length>0&&a.each(function(){var e=$(this),a=e.get(0);a.hasAttribute("data-autoplay")&&"function"==typeof a.play&&(e.prop("volume",t),0===a.volume?a.play().then(function(){e.animate({volume:t},2*D)}):a.play())}),$(o).length>0&&o.each(function(){parseVideo(n);var e=o.get(0);"vimeo"===type&&e.hasAttribute("data-autoplay")&&e.contentWindow.postMessage('{"method": "play"}',"*"),"youtube"===type&&e.hasAttribute("data-autoplay")&&e.contentWindow.postMessage('{"event": "command", "func": "playVideo", "args": ""}',"*")})}function f(e){var t=e.find("video, audio"),a=e.find("iframe"),o=$(a).is(["data-lazy-src"])?a.data("lazy-src"):a.attr("src");$(t).length>0&&t.each(function(){var e=$(this),t=e.get(0);t.hasAttribute("data-keepplaying")||"function"!=typeof t.pause||e.animate({volume:0},D,function(){t.pause()})}),$(a).length>0&&a.each(function(){parseVideo(o);var e=a.get(0);"vimeo"!==type||e.hasAttribute("data-keepplaying")||e.contentWindow.postMessage('{"method": "pause"}',"*"),"youtube"!==type||e.hasAttribute("data-keepplaying")||e.contentWindow.postMessage('{"event": "command", "func": "pauseVideo", "args": ""}',"*")})}function g(e,t){var a=e.find("video, audio"),o=e.find("iframe"),n=$(o).is(["data-lazy-src"])?o.data("lazy-src"):o.attr("src");$(a).length>0&&a.each(function(){$(this).animate({volume:t},D)}),$(o).length>0&&o.each(function(){parseVideo(n);var e=o.get(0);"vimeo"===type&&e.contentWindow.postMessage('{"method": "setVolume", "value":0.1}',"*")})}function h(e,t){var a=e.find("video, audio"),o=e.find("iframe"),n=$(o).is(["data-lazy-src"])?o.data("lazy-src"):o.attr("src");$(a).length>0&&a.each(function(){$(this).animate({volume:t},D)}),$(o).length>0&&o.each(function(){parseVideo(n);var e=o.get(0);"vimeo"===type&&e.contentWindow.postMessage('{"method": "setVolume", "value":'+t+"}","*")})}function v(){$(".aspect-ratio--js").each(function(){var t=$(this).find("img").attr("height")?$(this).find("img").attr("height"):"9",a=$(this).find("img").attr("width")?$(this).find("img").attr("width"):"16",o;if($(this).is(".intrinsic-ratio"))return o=t/a,void $(this).css("padding-bottom",100*o+"%");o=a/t;var n=$(".slide");$(this).attr("data-ratio",o),e(L.screen_md)?$(this).removeAttr("style").addClass("embed-responsive embed-responsive-16by9"):($(this).removeClass("embed-responsive embed-responsive-16by9"),$(this).data("ratio")>1?($(this).addClass("landscape"),n.width()/n.height()>=o?$(this).css({height:n.width()/o,width:n.width(),"margin-left":"0","margin-top":(n.height()-$(this).height())/2}):$(this).css({height:n.height(),width:n.height()*o,"margin-top":"0","margin-left":(n.width()-$(this).width())/2})):$(this).addClass("portrait"))})}function m(e){e.stopPropagation();var t=$(".expanding-search"),a=$(".expanding-search .search-field"),o=$(".navigation-social a");if(t.is(".in"))t.is(".in")&&/^\s*$/.test(a.val())&&(e.preventDefault(),t.removeClass("in"),a.blur(),o.removeClass("invisible"));else{e.preventDefault(),t.addClass("in"),a.focus(),o.addClass("invisible");var n=function(e){$(e.target).is(a)||(t.removeClass("in"),a.blur(),o.removeClass("invisible"),$(document).off("click",n))};$(document).on("click",n)}}function w(){var t=$('[data-toggle="search-expand"]'),a=$(".expanding-search .search-field"),o=$(".expanding-search .search-submit"),n=$(".navigation-social a");e(L.screen_md)?(t.off("click",m),o.off("click",m),a.attr("placeholder","Search"),n.removeClass("invisible"),o.addClass("screen-reader-text").removeClass("btn")):(t.on("click",m),o.on("click",m),a.attr("placeholder",""),o.addClass("btn").removeClass("screen-reader-text"))}function b(e){$(e).each(function(){var e=$(this),t=e.data("media"),a=e.data("position"),o=e.closest(".accordion-header").length>0?"hover":"click",n;parseMedia(t),"audio"===type&&(n='<audio src="'+t+'" loop autoplay controls controlsList="nodownload"></audio>'),"video"===type&&(n='<video src="'+t+'" loop autoplay></video>'),"image"===type&&(n='<img src="'+t+'">'),e.popover({placement:a,html:!0,template:'<div class="popover popover--large" role="tooltip"><div class="popover-content"><div class="popover__media-container"></div></div></div>',content:n,trigger:o})})}function y(e,t,a,o){t.on(o,function(){e.flickity("previous")}),a.on(o,function(){e.flickity("next")})}function k(e,t,a,o){e.on("cellSelect",function(){var n=e.selectedCell.target,i=!1;n===e.cells[0].target?(i=!i,t.attr("disabled",!0)):n===e.getLastCell().target?(i=!i,a.attr("disabled",!0)):(i=i,o.removeAttr("disabled"))})}function z(e,t){e.on("settle.flickity",function(){t.selectedIndex===t.cells.length-1&&x(e)})}function x(e){M++;var t="/wp-json/wp/v2/news?page="+M;$.getJSON(t).done(function(t){$.each(t,function(t,a){var o=$('<div class="carousel-cell page-'+M+'"><h2 class="entry-header">'+a.title.rendered+'</h2><div class="entry-content">'+a.content.rendered+"</div></div>");e.flickity("append",o)})}).fail(function(e,t,a){var o=t+", "+a;console.log("Request Failed: "+o)})}function C(e,t,a,o){$(".gradient-container").gradienter({hueStart:t,selector:e,saturation:a,lightness:o})}function _(e){e.on("shown.bs.collapse",function(){var e=$(this);if(e.has("[data-lazy-src]").length){$(e.find("[data-lazy-src]")).each(function(){i(this)})}u(e,.2),c(e)})}function S(e){e.on("hidden.bs.collapse",function(){f($(this))})}function A(e){e.length&&(e.on("show.bs.collapse",function(){var e=$(this);if(e.parent(".card").addClass("show"),e.closest(".card").is(".slide_text--sidebar")){var t=$(e.closest(".slide_text--sidebar").attr("data-caption"));$(".reading__issue-list").addClass("out"),t.addClass("in")}}),_(e),e.on("hide.bs.collapse",function(){var e=$(this),t=$(".reading__issue-list");if(e.parent(".card").removeClass("show"),e.closest(".card").is(".slide_text--sidebar")){var a=$(e.closest(".slide_text--sidebar").attr("data-caption"));a.removeClass("in"),0===$(".slide_text--sidebar.show").length&&t.removeClass("out"),p(a)}else p(this)}),S(e))}function I(e,t){t.length&&t.infiniteScroll(e)}function j(){var e=mobilecheck()?"touchstart":"click",o=window.location.hash,n=$("#scene"),i=$(".accordion .collapse"),s=$(".site-info .collapse"),c=$(".site-info .close"),l=$(".auto-protocol"),p=$('a[href*="#"]:not([href="#"], a[href*="#panel-"], [data-toggle="collapse"], .ot-social-links a)'),u=$(".infinite");I({path:".nav-previous a",append:".post",prefill:!0,hideNav:".nav-links",history:!1},u),u.on("append.infiniteScroll",function(){C(".gradient-text",240,100,50),a(),S($(".accordion .collapse"))}),C(".gradient-text",240,100,50),w(),v(),d($("#mailing-list-subscribe")),a(),A(i),s.on("show.bs.collapse",function(){$(this).siblings().collapse("hide")}),c.on(e,function(){$(this).closest(".collapse").collapse("hide")});var f=$("#collapse-news"),m={cellSelector:".carousel-cell",cellAlign:"left",prevNextButtons:!1,pageDots:!1,watchCSS:!0},x=$(".carousel"),_=$(".btn-nav"),j=$(".btn-prev"),O=$(".btn-next");f.one("shown.bs.collapse",function(){x.flickity(m);var t=x.data("flickity");x.flickity("resize"),z(x,t),y(x,j,O,e),k(t,j,O,_)}),f.on("hidden.bs.collapse",function(){x.flickity("select",0,!1,!0)});var L=$(o+".collapse");o&&L&&L.prev(".collapsed").trigger(e),$('a[href*="#panel-"]').on(e,function(t){var a=$(t.target).attr("href");$(a+".collapse").prev(".collapsed").trigger(e)}),l.blur(function(){var e=$(this).val();e.match(/^https?:/)||(e="http://"+e),$(this).val(function(){return e})}),p.on(e,function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html, body").animate({scrollTop:e.offset().top},500),!1}}),$('[data-toggle="popover"]').popover(),n.on("shown.bs.popover",function(){$(".popover--large").length&&g($(".accordion .show"),.1)}),n.on("hidden.bs.popover",function(){h($(".accordion .show"),.9)}),b(".media-sample"),r(".autoplay"),n.on(e,'[data-toggle="offcanvas"]',function(e){e.preventDefault();var a=$(this),o=$(a.attr("data-target"));U=!U,o.toggleClass("in"),a.toggleClass("active"),U?(t(!0,q),n.append('<div id="overlay" class="fixed-fs offcanvas__overlay" data-toggle="offcanvas" data-target="#site-navigation"></div>')):(t(!1,q),$("#overlay").remove()),a.attr("aria-expanded",function(e,t){return"true"===t?"false":"true"})}),Y.init(),ee.init(),te.init(),X.init(),H.init()}function O(){v(),w();var a=$(".slide__text--sidebar");a.length>0&&e(L.screen_md)&&($(".reading__issue-list").removeClass("out"),a.removeClass("in")),t(!1,q)}var L={screen_xl:1200,screen_lg:992,screen_md:768,screen_sm:576,screen_xs:480},M=1,D=1e3,U=!1,q=$("body"),N,V={rootMargin:"200px 0px",threshold:.01},E=0,F,R,T,W=$("#spritz_wpm"),B=6e4/W.val(),P=!1,T=0,K=1,J=!1,Q=!1,Z=!0,G=function(e){return e.trim().replace(/([-—])(\w)/g,"$1 $2").replace(/[\r\n]/g," {linebreak} ").replace(/[ \t]{2,}/g," ").split(" ")},t=function(e,t){var a=$(t);e?a.addClass("stop-scroll"):a.removeClass("stop-scroll")},H={config:{page:$("#spritz_words"),section:"h2, p"},init:function(e){$.extend(H.config,e),H.config.page.fullpage({sectionSelector:H.config.section,scrollBar:!0})},setAnchor:function(){$(H.config.section).each(function(e,t){$(t).attr("data-anchor","page-"+e)})}},X={words:"",config:{$words:$("#spritz_words p"),paragraphSm:16,paragraphMd:32},init:function(e){$.extend(X.config,e),this.split(" ")},split:function(e){X.config.$words.each(function(t,a){var o=$(a),n=o.text(),i="";X.words=G(n),X.count(o,X.config.paragraphSm,X.config.paragraphMd,t),$(X.words).each(function(t,a){i+='<span class="word-'+t+'" aria-hidden="true">'+a+"</span>"+e}),X.populate(o,n,i)})},count:function(e,t,a,o){X.words.length<parseInt(t)?e.addClass("section-sm section-"+o).attr("data-anchor","page-"+o):X.words.length<parseInt(a)?e.addClass("section-md section-"+o).attr("data-anchor","page-"+o):e.addClass("section-lg section-"+o).attr("data-anchor","page-"+o)},populate:function(e,t,a){e.attr("aria-label",t).empty().append(a)}},Y={spritz:"",words:"",local:{},wpmOutput:W.next()[0],config:{container:$("body"),readingProgress:$("#spritz_progress"),reader:$("#spritz"),alert:$("#alert"),save:$("#spritz_save"),autosave:$("#autosave_checkbox"),space:$("#spritz_word"),$words:$("#spritz_words")},init:function(e){$.extend(Y.config,e),localStorage.jqspritz?(Y.local=JSON.parse(localStorage.jqspritz),Y.config.$words.val(Y.local.words),T=Y.local.word,Y.local.autosave&&(J=!0,Y.config.container.addClass("autosave"),Y.config.autosave.prop("checked",!0)),W.val(Y.local.wpm),B=6e4/Y.local.wpm,Y.zoom(0),Y.wordsSet(),Y.wordShow(T),Y.wordUpdate(),Y.pause(!0),Y.alert("loaded")):(Y.wordsSet(),Y.wordShow(0),Y.wordUpdate(),Y.pause(!0))},save:function(){Y.local={word:T,words:Y.config.$words.val(),wpm:W.val(),autosave:J,zoom:K},localStorage.jqspritz=JSON.stringify(Y.local),J||Y.alert("saved")},wordsSet:function(){var e=Y.config.$words,t=e.text();Y.words=G(t);for(var a=1;a<Y.words.length;a++)Y.words[a]=Y.words[a].replace(/{linebreak}/g,"   ")},wordShow:function(e){Y.config.readingProgress.width(100*e/Y.words.length+"%");var t=Y.words[e];Y.config.space.html("<span>"+t+"</span>")},wordNext:function(){T++,Y.wordShow(T)},wordPrev:function(){T--,Y.wordShow(T)},wordUpdate:function(){Y.spritz=setInterval(function(){Y.wordNext(),T+1===Y.words.length&&(setTimeout(function(){Y.config.space.html(""),Y.pause(!0),T=0,Y.wordShow(0)},B),clearInterval(Y.spritz))},B)},pause:function(e){P||(clearInterval(Y.spritz),P=!0,Y.config.container.addClass("paused"),J&&!e&&Y.save())},play:function(){Y.wordUpdate(),P=!1,Y.config.container.removeClass("paused")},toggle:function(){P?Y.play():Y.pause()},speed:function(){B=6e4/W.val(),P||(clearInterval(Y.spritz),Y.wordUpdate()),Y.config.save.removeClass("saved loaded")},slider:function(){W.attr("value",W.val()),Y.output(),Y.speed()},output:function(){Y.wpmOutput.value=W.val()+" words per minute."},faster:function(){W.val(parseInt(W.val())+50),Y.output(),Y.speed()},slower:function(){W.val()>=100&&(W.val(parseInt(W.val())-50),Y.output()),Y.speed()},back:function(){Y.pause(),T>=1&&Y.wordPrev()},forward:function(){Y.pause(),T<Y.words.length&&Y.wordNext()},zoom:function(e){K+=e,Y.config.reader.css("font-size",K+"em")},refresh:function(){clearInterval(Y.spritz),Y.wordsSet(),T=0,Y.pause(),Y.wordShow(0)},select:function(){Y.config.$words.select()},expand:function(){Y.config.container.toggleClass("fullscreen")},autosave:function(){Y.config.container.toggleClass("autosave"),J=!J,J?Y.config.autosave.prop("checked",!0):Y.config.autosave.prop("checked",!1)},alert:function(e){var t="";switch(e){case"loaded":t="Data loaded from local storage";break;case"saved":t="Words, Position and Settings have been saved in local storage for the next time you visit";break}Y.config.alert.text(t).fadeIn().delay(2e3).fadeOut()}},ee={config:{controls:$(".controls"),collapse:$(".toggle"),jogBack:"",jogForward:""},init:function(e){$.extend(ee.config,e),this.bindUIActions()},bindUIActions:function(){ee.config.controls.on("click","a, label",function(e){e.preventDefault(),ee.doClick(e,this)}),ee.config.controls.on("input","input[type=range]",function(e){ee.doInputChange(e,this)}),ee.config.controls.on("mousedown","a",function(e){e.preventDefault(),ee.doMouseDown(e,this)}),ee.config.controls.on("mouseup","a",function(e){e.preventDefault(),ee.doMouseUp(e,this)}),$(document).on("keyup",function(e){"body"===e.target.tagName.toLowerCase()&&ee.doKeyUp(e,this)}),$(document).on("keydown",function(e){"body"===e.target.tagName.toLowerCase()&&ee.doKeyDown(e,this)})},doClick:function(e,t){switch(t.id){case"spritz_slower":Y.slower();break;case"spritz_faster":Y.faster();break;case"spritz_save":Y.save();break;case"spritz_pause":Y.toggle();break;case"spritz_smaller":Y.zoom(-.1);break;case"spritz_bigger":Y.zoom(.1);break;case"spritz_autosave":Y.autosave();break;case"spritz_refresh":Y.refresh();break;case"spritz_select":Y.select();break;case"spritz_expand":Y.expand();break}return!1},doInputChange:function(e,t){switch(t.id){case"spritz_wpm":Y.slider();break}},doMouseDown:function(e,t){switch(t.id){case"spritz_back":ee.config.jogBack=setInterval(function(){Y.back()},100);break;case"spritz_forward":ee.config.jogForward=setInterval(function(){Y.forward()},100);break}},doMouseUp:function(e,t){switch(t.id){case"spritz_back":clearInterval(ee.config.jogBack);break;case"spritz_forward":clearInterval(ee.config.jogForward);break}},doKeyUp:function(e){switch(e.keyCode){case 32:Y.toggle();break;case 37:Y.back();break;case 38:Y.faster();break;case 39:Y.forward();break;case 40:Y.slower();break}},doKeyDown:function(e){switch(e.keyCode){case 37:Y.back();break;case 39:Y.forward();break}}},te={config:{container:$("body"),view:$("[data-theme]")},init:function(e){$.extend(te.config,e),this.bindUIActions()},bindUIActions:function(){te.config.view.on("click",function(e){te.readerType(e,this)})},speedReader:function(e){e?(Y.config.reader.addClass("in"),Y.play(),Y.wpmOutput.value=W.val()+" words per minute."):(Y.config.reader.removeClass("in"),Y.pause()),Q=e,t(e,"body")},animate:function(e){e?(te.config.container.addClass("animated"),H.init()):(te.config.container.removeClass("animated"),$.fn.fullpage.destroy("all")),Z=e},readerType:function(e,t){switch(t.dataset.theme){case"speed":te.speedReader(!0),te.animate(!1),te.btnSelected(t);break;case"normal":te.speedReader(!1),te.animate(!1),te.btnSelected(t);break;case"animated":te.speedReader(!1),te.animate(!0),te.btnSelected(t);break}},btnSelected:function(e){$(te.config.view).attr("disabled",!1).removeClass("active"),$(e).attr("disabled",!0).addClass("active")}};$(document).ready(function(){var e=$(window);s(e),j(e),e.resize(function(){waitForFinalEvent(function(){O()},timeToWaitForLast,"screenz resize")})})}(jQuery);