!function($){function e(){if(I=document.querySelectorAll("img[data-lazy-src]"),U=I.length,N&&N.disconnect(),"IntersectionObserver"in window)for(N=new IntersectionObserver(n,_),d=0;d<I.length;d++)P=I[d],P.getAttribute("data-lazy-loaded")||N.observe(P);else t(I)}function t(e){var t;for(t=0;t<e.length;t++){i(e[t])}}function n(e){var t;for(0===U&&N.disconnect(),t=0;t<e.length;t++){var n=e[t];n.intersectionRatio>0&&(U--,N.unobserve(n.target),i(n.target))}}function i(e){var t=$(e);t.each(function(){var n=e.getAttribute("data-lazy-src"),i=e.getAttribute("data-lazy-srcset"),o=e.getAttribute("data-lazy-sizes");n&&(t.is("[data-lazy-loaded]")||(e.classList&&e.classList.add("lazy-loaded"),e.setAttribute("data-lazy-loaded","1"),e.setAttribute("src",n),e.removeAttribute("data-lazy-src"),i&&(e.setAttribute("srcset",i),e.removeAttribute("data-lazy-srcset")),o&&(e.setAttribute("sizes",o),e.removeAttribute("data-lazy-sizes"))))})}var o={screen_xl:1200,screen_lg:992,screen_md:768,screen_sm:576,screen_xs:480},a,c=1,s=1e3,r=!1,l=!1,d=0,p=!1,f=!0,g=!1,u,h=$("html, body"),m=$("body"),v=$("#page");$.readyFn={list:[],register:function(e){$.readyFn.list.push(e)},execute:function(){for(var e=0;e<$.readyFn.list.length;e++)try{$.readyFn.list[e].apply(document,[$])}catch(e){throw e}}};var b=function(){var e=!1;return function(t){(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},w=function(e){return e.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),RegExp.$3.indexOf("youtu")>-1?a="youtube":RegExp.$3.indexOf("vimeo")>-1&&(a="vimeo"),{type:a,id:RegExp.$6}},y=function(e){switch(e.substr(e.lastIndexOf(".")+1)){case"mp3":case"aac":case"ogg":a="audio";break;case"mp4":case"webm":a="video";break;case"jpg":case"jpeg":case"png":case"gif":a="image";break}return a},x=function(e){var t=$(window).width();return parseInt(t)<=parseInt(e)},k=function(e,t){var n=$(t);e?n.addClass("stop-scroll"):n.removeClass("stop-scroll")},z=function(e,t,n,i){$(".gradient-container").gradienter({hueStart:t,selector:e,saturation:n,lightness:i})},C={init:function(){var e=$("#mailing-list-subscribe"),t=$("#field-ot-mail"),n=$("#field-ot-mail-confirm");this.validate(e,t,n)},validate:function(e,t,n){var i=e[0];i.addEventListener("submit",function(o){!1===i.checkValidity()&&(o.preventDefault(),o.stopPropagation()),$(e).addClass("was-validated"),C.match(t,n)},!1)},match:function(e,t){var n=e[0].value,i=t[0].value,o=t.next(".invalid-feedback");n!==i?o.text(o.data("text-original")):(o.data("text-original",o.text()),o.text(o.data("text-swap")))}},A={config:{$searchWrap:$(".expanding-search"),$expand:$('[data-toggle="search-expand"]'),$input:$(".expanding-search .search-field"),$submit:$(".expanding-search .search-submit"),$menu:$(".navigation-social a")},init:function(e){$.extend(A.config,e);var t=this.config.$expand,n=this.config.$submit;this.bindUIActions(t,n)},bindUIActions:function(e,t){e.on("click",function(e){A.doExpand(e)}),t.on("click",function(e){A.doExpand(e)})},doExpand:function(e){e.stopPropagation(),A.config.$searchWrap.is(".in")?A.config.$searchWrap.is(".in")&&/^\s*$/.test(A.config.$input.val())&&(e.preventDefault(),A.close()):A.open(e)},open:function(e){e.preventDefault(),A.config.$searchWrap.addClass("in"),A.config.$input.focus(),A.config.$menu.addClass("invisible"),$(document).on("click",function(){A.bodyFn(e)})},close:function(){A.config.$searchWrap.removeClass("in"),A.config.$input.blur(),A.config.$menu.removeClass("invisible")},bodyFn:function(e){$(e.target).is(A.config.$input)||(A.close(),$(document).off("click",function(){A.bodyFn(e)}))}},S={config:{prefetch:!0,prefetchOn:"mouseover touchstart",blacklist:".post-edit-link",debug:!0,onBefore:function(e,t){M.config.$container.infiniteScroll("destroy"),E.config.$popMedia.popover("dispose"),$(j.config.section).length&&($.scrollify.move(0),$.scrollify.destroy())},onStart:{duration:1e3,render:function(){v.addClass("is-exiting"),h.animate({scrollTop:0})}},onReady:{duration:0,render:function(e,t){e.html(t),e.removeClass("is-exiting")}},onAfter:function(){m.removeClass("stop-scrolling"),c=1,$.readyFn.execute(),$(L.config.reader).length&&L.refresh()}},init:function(e){$.extend(S.config,e),v.length&&(u=v.smoothState(S.config).data("smoothState"))}},I,_={rootMargin:"200px 0px",threshold:.01},U=0,N,P,E={config:{$pop:$(".popover"),$popMedia:$(".media-sample"),$scene:$("#scene")},init:function(e){$.extend(E.config,e),$('[data-toggle="popover"]').popover(),this.bindUIActions(),this.doMedia()},bindUIActions:function(){E.config.$scene.on("shown.bs.popover",function(){E.doVolumeToggle($(".accordion .show"),.1)}),E.config.$scene.on("hidden.bs.popover",function(){E.doVolumeToggle($(".accordion .show"),.9)})},doVolumeToggle:function(e,t){},doMedia:function(){E.config.$popMedia.each(function(e,t){var n=$(t),i=n.data("media"),o=n.data("position"),c=n.closest(".accordion-header").length?"hover":"click",s;switch(y(i),a){case"audio":s='<audio src="'+i+'" loop autoplay controls controlsList="nodownload"></audio>';break;case"video":s='<video src="'+i+'" loop autoplay></video>';break;case"image":s='<img src="'+i+'">';break}n.popover({placement:o,html:!0,template:'<div class="popover popover--large" role="tooltip"><div class="popover-content"><div class="popover__media-container"></div></div></div>',content:s,trigger:c})})},hide:function(e){if(E.config.$pop.length){$(e).find(E.config.$popMedia).popover("hide")}}},F={config:{options:{cellSelector:".carousel-cell",cellAlign:"left",prevNextButtons:!1,pageDots:!1,watchCSS:!0},$newsDropdown:$("#collapse-news"),$carousel:$(".carousel"),$btnNav:$(".btn-nav"),$btnPrev:$(".btn-prev"),$btnNext:$(".btn-next")},init:function(e){$.extend(F.config,e);var t=F.config.$carousel;t&&this.bindUIActions(t)},create:function(e){var t=e.flickity(F.config.options);F.bindEvents(t)},bindUIActions:function(e){F.config.$newsDropdown.one("shown.bs.collapse",function(){F.create(e),e.flickity("resize")}),F.config.$newsDropdown.on("hidden.bs.collapse",function(){F.resetPosition(e)}),F.config.$btnPrev.on("click",function(){e.flickity("previous")}),F.config.$btnNext.on("click",function(){e.flickity("next")})},bindEvents:function(e){var t=e.data("flickity");F.btnAtts(t,F.config.$btnPrev,F.config.$btnNext,F.config.$btnNav),F.addItems(F.config.$carousel,t)},btnAtts:function(e,t,n,i){e.on("cellSelect",function(){var o=e.selectedCell.target,a=!1;o===e.cells[0].target?(a=!a,t.attr("disabled",!0)):o===e.getLastCell().target?(a=!a,n.attr("disabled",!0)):(a=a,i.removeAttr("disabled"))})},addItems:function(e,t){e.on("settle.flickity",function(){t.selectedIndex===t.cells.length-1&&F.makeCellHtml(e)})},makeCellHtml:function(e){c++;var t="/wp-json/wp/v2/news?page="+c;$.getJSON(t).done(function(t){$.each(t,function(t,n){var i=$('<div class="carousel-cell page-'+c+'"><h2 class="entry-header">'+n.title.rendered+'</h2><div class="entry-content">'+n.content.rendered+"</div></div>");e.flickity("append",i)})}).fail(function(e,t,n){var i=t+", "+n;console.log("Request Failed: "+i)})},resetPosition:function(e){e.flickity("select",0,!1,!0)}},M={config:{$container:$(".infinite"),options:{path:".nav-previous a",append:".post",prefill:!0,hideNav:".nav-links",history:!1}},init:function(e){$.extend(M.config,e);var t=M.config.$container;t.length&&(this.create(t),this.bindEvents(t))},create:function(e){e.infiniteScroll(M.config.options)},bindEvents:function(t){t.on("append.infiniteScroll",function(){z(".gradient-text",240,100,50),e()})}},O={config:{$collapse:$(".accordion .collapse"),$panelClose:$(".site-info .close"),card:".card"},init:function(e){$.extend(this.config,e),(O.config.$collapse.length||O.config.$panelClose.length)&&this.bindUIActions(O.config.$collapse,O.config.$panelClose)},bindUIActions:function(e,t){e.on("show.bs.collapse",function(){O.toggle(!0,this)}),e.on("shown.bs.collapse",function(){O.doLazyLoad(this)}),e.on("hide.bs.collapse",function(){O.toggle(!1,this),E.hide(this)}),e.on("hidden.bs.collapse",function(){}),t.on("click",function(){$(this).closest(".collapse").collapse("hide")})},doLazyLoad:function(e){var t=$(e);if(t.has("[data-lazy-src]").length){t.find("[data-lazy-src]").each(function(){})}},toggle:function(e,t){var n=$(t);e?n.parent(O.config.card).addClass("show"):n.parent(O.config.card).removeClass("show")}},R=function(e){return e.trim().replace(/([-—])(\w)/g,"$1 $2").replace(/[\r\n]/g," {linebreak} ").replace(/[ \t]{2,}/g," ").split(" ")},j={config:{anchor:!0,section:".scroll-snap .section",sectionName:"anchor",interstitial:".site-header, .issue-content__bio, .site-footer, .spritz",setHeights:!1,activeClass:"active"},init:function(e){$.extend(this.config,e),$(this.config.section).length&&(this.setAnchor(this.config.anchor),$.scrollify({section:this.config.section,sectionName:this.config.sectionName,interstitialSection:this.config.interstitial,before:function(e,t){j.doBefore(e,t,j.config.section,j.config.activeClass),j.doAfter(e,t,j.config.activeClass)}}),this.doUpdate())},doBefore:function(e,t,n,i){void 0!==t[e].attr("data-anchor")&&$(n).removeClass(i)},doAfter:function(e,t,n){$.scrollify.current().addClass(n)},doUpdate:function(){$(".site-info .collapse").on("shown.bs.collapse",function(){$.scrollify.update()}),$(".site-info .collapse").on("hidden.bs.collapse",function(){$.scrollify.update()})},setAnchor:function(e){e&&$(j.config.section).each(function(e,t){var n=$(t),i=e+1;n.attr("data-anchor","page-"+i)})}},D={config:{words:"",$words:$('[data-text="split"] .entry-content > p'),paragraphSm:16,paragraphMd:35},init:function(e){$.extend(this.config,e),$(this.config.$words).length&&D.split(this.config.$words,this.config.words," ")},split:function(e,t,n){e.each(function(e,i){var o=$(i),a=o.text(),c="";t=R(a),D.count(o,t,D.config.paragraphSm,D.config.paragraphMd,e),$(t).each(function(e,t){c+='<span class="word-'+e+'" aria-hidden="true">'+t+"</span>"+n}),D.populate(o,a,"<div>"+c+"</div>")})},count:function(e,t,n,i,o){t.length<parseInt(n)?e.addClass("section section-sm section-"+o):t.length<parseInt(i)?e.addClass("section section-md section-"+o):e.addClass("section section-lg section-"+o)},populate:function(e,t,n){e.attr("aria-label",t).empty().append(n)}},L={config:{container:m,readingProgress:$("#spritz_progress"),reader:$("#spritz"),space:$("#spritz_word"),$words:$('[data-text="split"] .entry-content > p'),spritz:"",words:"",local:{},$wpm:$("#spritz_wpm"),interval:6e4/$("#spritz_wpm").val(),wpmOutput:$("#spritz_wpm").next()[0]},init:function(e){$.extend(L.config,e),$(L.config.reader).length&&(L.wordsSet(),L.wordShow(0),L.wordUpdate(),L.pause(!0))},wordsSet:function(){var e=L.config.$words,t=e.text();L.config.words=R(t);for(var n=1;n<L.config.words.length;n++)L.config.words[n]=L.config.words[n].replace(/{linebreak}/g,"   ")},wordShow:function(e){L.config.readingProgress.width(100*e/L.config.words.length+"%");var t=L.config.words[e];L.config.space.html("<span>"+t+"</span>")},wordNext:function(){d++,L.wordShow(d)},wordPrev:function(){d--,L.wordShow(d)},wordUpdate:function(){L.config.spritz=setInterval(function(){L.wordNext(),d+1===L.config.words.length&&(setTimeout(function(){L.config.space.html(""),L.pause(!0),d=0,L.wordShow(0)},L.config.interval),clearInterval(L.config.spritz))},L.config.interval)},pause:function(){l||(clearInterval(L.config.spritz),l=!0,L.config.container.addClass("paused"))},play:function(){L.wordUpdate(),l=!1,L.config.container.removeClass("paused")},toggle:function(){l?L.play():L.pause()},speed:function(){L.config.interval=6e4/L.config.$wpm.val(),l||(clearInterval(L.config.spritz),L.wordUpdate())},slider:function(){L.config.$wpm.attr("value",L.config.$wpm.val()),L.output(),L.speed()},output:function(){L.config.wpmOutput.value=L.config.$wpm.val()+" words per minute."},refresh:function(){clearInterval(L.config.spritz),L.wordsSet(),d=0,L.pause(),L.wordShow(0)}},T={config:{controls:$(".controls")},init:function(e){$.extend(T.config,e),this.bindUIActions(T.config.controls)},bindUIActions:function(e){e.on("click","#spritz_pause",function(e){e.preventDefault(),L.toggle()}),e.on("input","input[type=range]",function(){L.slider()})}},q={config:{container:m,btnSelect:$("[data-theme]"),content:$('[data-toggle="theme"] .entry-content'),switch:$('[data-toggle="theme"]')},init:function(e){$.extend(q.config,e),q.config.switch&&this.bindUIActions(q.config.btnSelect)},bindUIActions:function(e){e.on("click",function(e){q.readerType(e,this)})},speedReader:function(e){e?(L.config.reader.addClass("in"),L.play(),L.config.wpmOutput.value=L.config.$wpm.val()+" words per minute."):(L.config.reader.removeClass("in"),L.pause()),p=e,k(e,"body")},slides:function(e){if(e){var t=window.location.hash.split("-")[1];q.config.container.addClass("animated"),j.init(),$.scrollify.instantMove(parseInt(t))}else q.config.container.removeClass("animated"),$.scrollify.destroy();f=e},normal:function(e){e?(q.config.content.removeClass("col-md-12"),q.config.content.addClass("col-md-8"),q.config.switch.removeClass("text-size--poster format-slides"),$("html, body").scrollTop(0)):(q.config.content.removeClass("col-md-8"),q.config.content.addClass("col-md-12"),q.config.switch.addClass("text-size--poster format-slides")),g=e},readerType:function(e,t){switch(t.dataset.theme){case"speed":q.speedReader(!0),q.normal(!1),q.slides(!1),q.btnSelected(t);break;case"normal":q.speedReader(!1),q.normal(!0),q.slides(!1),q.btnSelected(t);break;case"animated":q.speedReader(!1),q.normal(!1),q.slides(!0),q.btnSelected(t);break}},btnSelected:function(e){$(q.config.btnSelect).attr("disabled",!1).removeClass("active"),$(e).attr("disabled",!0).addClass("active")}};$.readyFn.register(function(){F.init({$newsDropdown:$("#collapse-news"),$carousel:$(".carousel"),$btnNav:$(".btn-nav"),$btnPrev:$(".btn-prev"),$btnNext:$(".btn-next")}),M.init({$container:$(".infinite")}),E.init({$pop:$(".popover"),$popMedia:$(".media-sample"),$scene:$("#scene")}),O.init({$collapse:$(".accordion .collapse"),$panelClose:$(".site-info .close"),card:".card"}),D.init({words:"",$words:$('[data-text="split"] .entry-content > p')}),L.init({container:$("body"),readingProgress:$("#spritz_progress"),reader:$("#spritz"),space:$("#spritz_word"),$words:$('[data-text="split"] .entry-content > p'),spritz:"",words:"",local:{},$wpm:$("#spritz_wpm"),interval:6e4/$("#spritz_wpm").val(),wpmOutput:$("#spritz_wpm").next()[0]}),T.init({controls:$(".controls")}),j.init(),e(),z(".gradient-text",240,100,50),C.init(),q.init({btnSelect:$("[data-theme]"),content:$('[data-toggle="theme"] .entry-content'),switch:$('[data-toggle="theme"]')}),A.init({$searchWrap:$(".expanding-search"),$expand:$('[data-toggle="search-expand"]'),$input:$(".expanding-search .search-field"),$submit:$(".expanding-search .search-submit"),$menu:$(".navigation-social a")})}),$(document).ready(function(){S.init(),$.readyFn.execute()})}(jQuery);