function updateViewportDimensions(){var e=window,t=document,i=t.documentElement,o=t.getElementsByTagName("body")[0],n=e.innerWidth||i.clientWidth||o.clientWidth,a=e.innerHeight||i.clientHeight||o.clientHeight;return{width:n,height:a}}function checkform(){for(i=0;i<fieldstocheck.length;i++)if("checkbox"==eval("document.subscribeform.elements['"+fieldstocheck[i]+"'].type")){if(!document.subscribeform.elements[fieldstocheck[i]].checked)return alert("Please enter your "+fieldnames[i]),eval("document.subscribeform.elements['"+fieldstocheck[i]+"'].focus()"),!1}else if(""==eval("document.subscribeform.elements['"+fieldstocheck[i]+"'].value"))return alert("Please enter your "+fieldnames[i]),eval("document.subscribeform.elements['"+fieldstocheck[i]+"'].focus()"),!1;for(i=0;i<groupstocheck.length;i++)if(!checkGroup(groupstocheck[i],groupnames[i]))return!1;return compareEmail()?!0:(alert("Email addresses you entered do not match"),!1)}function addFieldToCheck(e,t){fieldstocheck[fieldstocheck.length]=e,fieldnames[fieldnames.length]=t}function addGroupToCheck(e,t){groupstocheck[groupstocheck.length]=e,groupnames[groupnames.length]=t}function compareEmail(){return document.subscribeform.elements.email.value==document.subscribeform.elements.emailconfirm.value}function checkGroup(e,t){for(option=-1,i=0;i<document.subscribeform.elements[e].length;i++)document.subscribeform.elements[e][i].checked&&(option=i);return-1==option?(alert("Please enter your "+t),!1):!0}var viewport=updateViewportDimensions(),waitForFinalEvent=function(){var e={};return function(t,i,o){o||(o="Don't call this twice without a uniqueId"),e[o]&&clearTimeout(e[o]),e[o]=setTimeout(t,i)}}(),timeToWaitForLast=100;!function(){var e=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,t=navigator.userAgent.toLowerCase().indexOf("opera")>-1,i=navigator.userAgent.toLowerCase().indexOf("msie")>-1;if((e||t||i)&&"undefined"!=typeof document.getElementById){var o=window.addEventListener?"addEventListener":"attachEvent";window[o]("hashchange",function(){var e=document.getElementById(location.hash.substring(1));e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1)}}();var fieldstocheck=new Array,fieldnames=new Array,groupstocheck=new Array,groupnames=new Array;!function($){function e(e){var t=$(e),i=t.attr("data-src");t.hide().removeAttr("data-src").attr("data-lazy-loaded","true"),e.src=i,t.show()}function t(){$(".js .accordion").css({display:"block"}),$(".accordion").accordion({active:!1,activate:function(t,i){if(viewport=updateViewportDimensions(),viewport.width<1200){var o=$(this).scrollTop();if(i.newHeader.length>0){var n=$(i.newHeader).offset().top;$("html, body").animate({scrollTop:o+n},500,"easeOutQuart")}else{var n=$(i.oldHeader).offset().top;$("html, body").animate({scrollTop:o+n},500,"easeOutQuart")}}i.newPanel.length>0&&$(i.newPanel).find("iframe[data-src]").each(function(){e(this)}),$(i.oldPanel).find("iframe[data-lazy-loaded]").attr("src",function(e,t){return t})},animate:{easing:"easeOutQuart",duration:500},header:".entry-header",heightStyle:"content",icons:!1,collapsible:!0,create:function(e,t){var i=$(this);$(window).on("hashchange",function(e){var t=$(".accordion").accordion("option","header");header=$(location.hash),index=i.find(t).index(header),index>=0&&i.accordion("option","active",index)}),$(window).trigger("hashchange")}})}function i(){$(".js .accordion-issue").css({display:"block"}),$(".accordion-issue").accordion({animate:{easing:"easeOutQuart",duration:500},header:".editor-title",heightStyle:"content",icons:!1,collapsible:!0,beforeActivate:function(e,t){t.oldPanel.find(".accordion").accordion("option","active",!1)}})}function o(){$.fn.accordion&&(i(),t())}function n(){viewport=updateViewportDimensions();var e=$(".site-header");return viewport.width<768?e.addClass("autoheight"):(e.removeClass("autoheight").css("height",""),void w.removeClass("active"))}function a(){$(".autoheight").css("height",$(window).height())}function r(){$(".menu-toggle").click(function(e){w.toggleClass("active").css("overflow","hidden"),e.preventDefault(),w.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){w.css("overflow","visible"),$("body.active").css("overflow","hidden")})}),n(),a(),$('<svg version="1.1" id="menu-open" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25px" height="15px" viewBox="0 0 25 15" enable-background="new 0 0 25 15" xml:space="preserve">			<line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="0" y1="1" x2="25" y2="1"/>			<line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="0" y1="14" x2="25" y2="14"/>			<line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="0" y1="7.359" x2="25" y2="7.359"/>		</svg>').appendTo(".menu-toggle")}function s(){var e=function(e){var t=$(this).data().toggleId,i=function(){$(".info-panel").is(":visible")?$("body").addClass("open"):$("body").removeClass("open")};$("#"+t).slideToggle("slow","easeOutQuart",i).siblings().slideUp("slow","easeOutQuart",i),e.preventDefault()};$("[data-toggle-id]").on("click",e),$("#info").html($(".info-panel").detach()),$('<svg version="1.1" id="close-cross" class="closer" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve">			<line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="35" y1="0" x2="0" y2="35"/>			<line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="0" y1="0" x2="35" y2="35"/>		</svg>').appendTo(".info-panel"),$(".closer").on("click",function(){$(".info-panel").slideUp("slow"),$("body").removeClass("open")})}function c(){viewport=updateViewportDimensions();var e=$(".social-menu a"),t=$(".social-menu .search-field");viewport.width>768?t.focus(function(){e.hide()}).blur(function(){e.fadeIn(500)}):t.focus(function(){e.show()})}function d(){$(".wp-caption").removeAttr("style"),$(".editor-selection > :first-child").addClass("pseudo-content-divider-top-articles-xs-max"),$(".search-field").attr("placeholder","Search")}function l(){$(".gradienter").rainbow(),$(".fitvids").fitVids({customSelector:"iframe[data-src*='player.vimeo.com'], iframe[data-src*='youtube.com'], iframe[data-src*='youtube-nocookie.com'], iframe[data-src*='kickstarter.com'][data-src*='video.html']"}),$("span.pullquote").each(function(){var e=$(this).parent("p");e.css("position","relative"),$(this).clone().addClass("pulledquote").prependTo(e)}),$(".popout-link a").click(function(){var e=$(window).height()/2-240,t=$(window).width()/2-240,i=window.open($(this).prop("href"),"","height=480, width=480 top="+e+", left= "+t);return window.focus&&i.focus(),!1}),c(),d()}function u(){$(".page-content .search-field").focus(),$(".site-logo").wrap("<div class='message404'></div>")}function f(){$(".auto-protocol").blur(function(){var e=$(this).val();e.match(/^https?:/)||(e="http://"+e),$(this).val(function(){return e})})}function h(){function e(){$("a[rel=ajax]").on("click",function(e){e.preventDefault();var t=$(this).attr("href"),i=$(this).text()+" - Opening Times";n.pushState("ajax",i,t)}),$(".search-form").submit(function(e){e.preventDefault();var t=$("[name=s]").val(),i="?s="+t,o=t+" - Search Results - Opening Times";n.pushState("ajax",o,i)})}function t(){d(),l(),r(),w.removeClass("active").css("overflow","visible"),o(),e(),f()}function i(){a=n.getState(),$("body").prepend('<div id="ajax-loader"><span>Loading</span></div>'),$("#ajax-loader").fadeIn(),$("#content").load(a.url+" #content > *",function(e,i,o){if("error"===i){var n="Sorry but there was an error: ",a="Please reload the page.";$("#ajax-loader").wrap("<div id='ajax-error'></div>").html(n+o.status+" "+o.statusText+"<br>"+a)}else $("#ajax-loader").fadeOut("fast",function(){$(this).detach()}),t()})}var n=window.History,a=n.getState();e(),n.Adapter.bind(window,"statechange",function(){i()})}function m(){if(g&&navigator.platform.match(/iPad|iPhone|iPod/i))for(var e=document.querySelectorAll("input, select, textarea"),t="width=device-width,initial-scale=1,maximum-scale=",i=0,o=e.length,n=function(){g.content=t+"1"},a=function(){g.content=t+"10"};o>i;i++)e[i].onfocus=n,e[i].onblur=a}var p=$(window),v=p.height(),w=$("body");$('<div id="push"></div>').appendTo("#page"),$(".search-form").height($(".menu-item").height()),$(window).konami({cheat:function(){function e(t){$("body").css({"font-family":t}),setTimeout(function(){e(t)},3200)}w.addClass("konami").append('<audio src="../wp-content/themes/opening_times/assets/timba.mp3" preload="auto" autoplay loop></audio>'),w.ready(function(){setTimeout(function(){e("serif")},400),setTimeout(function(){e("cursive")},800),setTimeout(function(){e("monospace")},1200),setTimeout(function(){e("fantasy")},1600),setTimeout(function(){e("sans-serif")},2e3),setTimeout(function(){e("Symbol")},2400),setTimeout(function(){e("Webdings")},2800),setTimeout(function(){e("Wingdings")},3200)})}});var g=document.querySelector&&document.querySelector('meta[name="viewport"]');ot_resize=function(){n(),a(),c()},ot_launch=function(){o(),r(),s(),l(),f(),h(),m(),$("body").hasClass("error404")&&u()}}(jQuery),jQuery(document).ready(function($){ot_launch(),ot_resize(),addFieldToCheck("email","Email address"),addFieldToCheck("emailconfirm","Confirm your email address"),$(window).resize(function(){ot_resize()})});